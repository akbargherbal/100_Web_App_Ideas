<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Generator UI Flow</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            padding: 20px;
            background-color: #f8f9fa;
        }
        h2 {
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #dee2e6;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #ccc;
            background-color: #fff;
        }
        .iframe-container {
            margin-bottom: 30px;
        }
    </style>
</head>
<body>

    <h1 class="mb-4 text-center">Meme Generator - UI Flow</h1>

    <!-- State 1: Home Page -->
    <h2>State 1: Home Page</h2>
    <div class="iframe-container">
        <iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - Meme Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
     body { display: flex; flex-direction: column; min-height: 100vh; }
     main { flex: 1; }
     .template-img { width: 100%; height: 180px; object-fit: cover; cursor: pointer; }
     .card { transition: transform 0.2s; }
     .card:hover { transform: scale(1.03); }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">MemeGen</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Create</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mt-4">
        <div class="p-5 mb-4 bg-light rounded-3">
          <div class="container-fluid py-5">
            <h1 class="display-5 fw-bold">Create Hilarious Memes</h1>
            <p class="col-md-8 fs-4">Choose a popular template or upload your own image to start creating your next viral meme in seconds.</p>
            <button class="btn btn-primary btn-lg" type="button">Start Creating</button>
          </div>
        </div>

        <h3 class="mb-3">Popular Templates</h3>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+1" class="card-img-top template-img" alt="Meme Template 1">
              <div class="card-body">
                <p class="card-text text-center small">Distracted Boyfriend</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+2" class="card-img-top template-img" alt="Meme Template 2">
               <div class="card-body">
                <p class="card-text text-center small">Drake Hotline Bling</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+3" class="card-img-top template-img" alt="Meme Template 3">
               <div class="card-body">
                <p class="card-text text-center small">One Does Not Simply</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+4" class="card-img-top template-img" alt="Meme Template 4">
               <div class="card-body">
                <p class="card-text text-center small">Change My Mind</p>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+5" class="card-img-top template-img" alt="Meme Template 5">
               <div class="card-body">
                <p class="card-text text-center small">Surprised Pikachu</p>
              </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+6" class="card-img-top template-img" alt="Meme Template 6">
               <div class="card-body">
                <p class="card-text text-center small">Woman Yelling at Cat</p>
              </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+7" class="card-img-top template-img" alt="Meme Template 7">
               <div class="card-body">
                <p class="card-text text-center small">Is This a Pigeon?</p>
              </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+8" class="card-img-top template-img" alt="Meme Template 8">
               <div class="card-body">
                <p class="card-text text-center small">Expanding Brain</p>
              </div>
            </div>
          </div>
        </div>
         <div class="text-center mt-4">
             <button class="btn btn-outline-secondary">Browse All Templates</button>
         </div>
    </main>

    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; 2023 MemeGen. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
        '></iframe>
    </div>

    <!-- State 2: About Page -->
    <h2>State 2: About Page</h2>
    <div class="iframe-container">
        <iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - Meme Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
     <style>
     body { display: flex; flex-direction: column; min-height: 100vh; }
     main { flex: 1; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">MemeGen</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Create</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mt-4">
        <h1 class="mb-4">About MemeGen</h1>
        <p class="lead">MemeGen is your go-to online tool for creating custom memes quickly and easily.</p>
        <hr>
        <p>We provide a wide range of popular meme templates, or you can upload your own image. Simply add your top and bottom text, preview your creation, and download or share it.</p>
        <p>Our mission is to make meme creation accessible and fun for everyone. Whether you want to make your friends laugh, create content for social media, or just have some fun, MemeGen has you covered.</p>
        <p>This tool is built using modern web technologies to provide a smooth and responsive experience across all devices.</p>

        <h3 class="mt-5">Features</h3>
        <ul>
            <li>Large library of popular meme templates</li>
            <li>Option to upload your own images</li>
            <li>Easy-to-use text editor</li>
            <li>Real-time preview</li>
            <li>Download memes in various formats (placeholder)</li>
            <li>Simple sharing options (placeholder)</li>
            <li>Free to use!</li>
        </ul>
    </main>

    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; 2023 MemeGen. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
        '></iframe>
    </div>

    <!-- State 3: Template Selection Page -->
    <h2>State 3: Template Selection Page</h2>
    <div class="iframe-container">
        <iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Template - Meme Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
     <style>
     body { display: flex; flex-direction: column; min-height: 100vh; }
     main { flex: 1; }
     .template-img { width: 100%; height: 180px; object-fit: cover; cursor: pointer; }
     .card { transition: transform 0.2s; }
     .card:hover { transform: scale(1.03); }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">MemeGen</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Create</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mt-4">
        <h1 class="mb-4">Choose a Template</h1>

        <div class="row mb-4 align-items-center">
            <div class="col-md-8">
                 <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search templates..." aria-label="Search templates">
                    <button class="btn btn-outline-secondary" type="button">Search</button>
                 </div>
            </div>
             <div class="col-md-4 text-md-end mt-3 mt-md-0">
                 <button class="btn btn-success"><i class="bi bi-cloud-upload"></i> Upload Your Own Image</button>
             </div>
        </div>


        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
          <!-- Repeat card structure for multiple templates -->
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+1" class="card-img-top template-img" alt="Meme Template 1">
               <div class="card-body">
                    <p class="card-text text-center small">Distracted Boyfriend</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
          <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+2" class="card-img-top template-img" alt="Meme Template 2">
               <div class="card-body">
                    <p class="card-text text-center small">Drake Hotline Bling</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+3" class="card-img-top template-img" alt="Meme Template 3">
               <div class="card-body">
                    <p class="card-text text-center small">One Does Not Simply</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+4" class="card-img-top template-img" alt="Meme Template 4">
               <div class="card-body">
                    <p class="card-text text-center small">Change My Mind</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+5" class="card-img-top template-img" alt="Meme Template 5">
               <div class="card-body">
                    <p class="card-text text-center small">Surprised Pikachu</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+6" class="card-img-top template-img" alt="Meme Template 6">
               <div class="card-body">
                    <p class="card-text text-center small">Woman Yelling at Cat</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+7" class="card-img-top template-img" alt="Meme Template 7">
               <div class="card-body">
                    <p class="card-text text-center small">Is This a Pigeon?</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+8" class="card-img-top template-img" alt="Meme Template 8">
               <div class="card-body">
                    <p class="card-text text-center small">Expanding Brain</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
             <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+9" class="card-img-top template-img" alt="Meme Template 9">
               <div class="card-body">
                    <p class="card-text text-center small">Mocking Spongebob</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+10" class="card-img-top template-img" alt="Meme Template 10">
               <div class="card-body">
                    <p class="card-text text-center small">Grumpy Cat</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+11" class="card-img-top template-img" alt="Meme Template 11">
               <div class="card-body">
                    <p class="card-text text-center small">Hide the Pain Harold</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
           <div class="col">
            <div class="card shadow-sm">
              <img src="https://via.placeholder.com/300x180/dee2e6/6c757d.png?text=Template+12" class="card-img-top template-img" alt="Meme Template 12">
               <div class="card-body">
                    <p class="card-text text-center small">Success Kid</p>
                    <button class="btn btn-sm btn-primary w-100">Select</button>
               </div>
            </div>
          </div>
          <!-- End repeated card structure -->
        </div>

        <!-- Pagination Placeholder -->
        <nav aria-label="Template navigation" class="mt-5 d-flex justify-content-center">
          <ul class="pagination">
            <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            <li class="page-item active"><a class="page-link" href="#">1</a></li>
            <li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
          </ul>
        </nav>

    </main>

    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; 2023 MemeGen. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
        '></iframe>
    </div>

    <!-- State 4: Meme Editor -->
    <h2>State 4: Meme Editor</h2>
    <div class="iframe-container">
        <iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Meme - Meme Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
     <style>
     body { display: flex; flex-direction: column; min-height: 100vh; }
     main { flex: 1; }
     #meme-preview {
        position: relative;
        width: 100%;
        max-width: 500px; /* Limit max width */
        margin: 0 auto; /* Center the preview */
        border: 1px solid #ccc;
     }
     #meme-preview img {
        display: block;
        max-width: 100%;
        height: auto;
     }
      #meme-preview .top-text, #meme-preview .bottom-text {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        text-align: center;
        font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
        font-size: 2rem; /* Adjust as needed */
        color: white;
        -webkit-text-stroke: 1px black; /* Outline */
        text-stroke: 1px black;
        text-transform: uppercase;
        word-wrap: break-word;
     }
      #meme-preview .top-text {
        top: 10px;
     }
      #meme-preview .bottom-text {
        bottom: 10px;
     }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">MemeGen</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Create</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mt-4">
        <h1 class="mb-4 text-center">Create Your Meme</h1>

         <div class="row">
            <!-- Editor Controls -->
            <div class="col-lg-4 order-lg-2 mb-4 mb-lg-0">
                <h4>Add Text</h4>
                 <form>
                    <div class="mb-3">
                        <label for="topText" class="form-label">Top Text</label>
                        <input type="text" class="form-control" id="topText" placeholder="Enter top text">
                    </div>
                    <div class="mb-3">
                        <label for="bottomText" class="form-label">Bottom Text</label>
                        <input type="text" class="form-control" id="bottomText" placeholder="Enter bottom text">
                    </div>
                     <div class="d-grid gap-2">
                         <button type="submit" class="btn btn-primary">Update Preview</button>
                         <button type="button" class="btn btn-success">Generate Meme</button>
                         <button type="button" class="btn btn-secondary mt-2">Change Template</button>
                     </div>
                 </form>
                 <div class="alert alert-info mt-3 small" role="alert">
                   Preview updates automatically as you type (Static demo: Click Update Preview).
                 </div>
            </div>

            <!-- Meme Preview -->
            <div class="col-lg-8 order-lg-1">
                <h4>Preview</h4>
                <div id="meme-preview">
                    <img src="https://via.placeholder.com/500x350/adb5bd/495057.png?text=Selected+Template" alt="Meme Template Preview">
                    <div class="top-text">Top Text Goes Here</div>
                    <div class="bottom-text">Bottom Text Goes Here</div>
                </div>
            </div>
         </div>
    </main>

    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; 2023 MemeGen. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
        '></iframe>
    </div>

     <!-- State 5: Meme Editor (Validation Error) -->
    <h2>State 5: Meme Editor (Validation Error)</h2>
    <div class="iframe-container">
        <iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Meme - Validation Error</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
     <style>
     body { display: flex; flex-direction: column; min-height: 100vh; }
     main { flex: 1; }
     #meme-preview {
        position: relative;
        width: 100%;
        max-width: 500px; /* Limit max width */
        margin: 0 auto; /* Center the preview */
        border: 1px solid #ccc;
     }
     #meme-preview img {
        display: block;
        max-width: 100%;
        height: auto;
     }
      #meme-preview .top-text, #meme-preview .bottom-text {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        text-align: center;
        font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
        font-size: 2rem; /* Adjust as needed */
        color: white;
        -webkit-text-stroke: 1px black; /* Outline */
        text-stroke: 1px black;
        text-transform: uppercase;
        word-wrap: break-word;
     }
      #meme-preview .top-text {
        top: 10px;
     }
      #meme-preview .bottom-text {
        bottom: 10px;
     }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">MemeGen</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Create</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mt-4">
        <h1 class="mb-4 text-center">Create Your Meme</h1>

         <div class="row">
            <!-- Editor Controls -->
            <div class="col-lg-4 order-lg-2 mb-4 mb-lg-0">
                <h4>Add Text</h4>
                 <form>
                    <!-- Example: Error on Top Text -->
                    <div class="mb-3">
                        <label for="topText" class="form-label">Top Text</label>
                        <input type="text" class="form-control is-invalid" id="topText" placeholder="Enter top text" required>
                         <div class="invalid-feedback">
                            Top text cannot be empty.
                         </div>
                    </div>
                    <div class="mb-3">
                        <label for="bottomText" class="form-label">Bottom Text</label>
                        <input type="text" class="form-control" id="bottomText" placeholder="Enter bottom text" value="Some valid bottom text">
                    </div>
                     <div class="alert alert-danger mt-3 small" role="alert">
                       Please fix the errors above before generating.
                     </div>
                     <div class="d-grid gap-2">
                         <button type="submit" class="btn btn-primary">Update Preview</button>
                         <button type="button" class="btn btn-success">Generate Meme</button>
                         <button type="button" class="btn btn-secondary mt-2">Change Template</button>
                     </div>
                 </form>

            </div>

            <!-- Meme Preview -->
            <div class="col-lg-8 order-lg-1">
                <h4>Preview</h4>
                <div id="meme-preview">
                    <img src="https://via.placeholder.com/500x350/adb5bd/495057.png?text=Selected+Template" alt="Meme Template Preview">
                    <!-- Error state might not show text or show previous valid text -->
                    <div class="top-text"></div>
                    <div class="bottom-text">Some valid bottom text</div>
                </div>
            </div>
         </div>
    </main>

    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; 2023 MemeGen. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
        '></iframe>
    </div>

    <!-- State 6: Meme Preview & Download -->
    <h2>State 6: Meme Preview & Download</h2>
    <div class="iframe-container">
        <iframe srcdoc='
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Download Meme - Meme Generator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
     <style>
     body { display: flex; flex-direction: column; min-height: 100vh; }
     main { flex: 1; }
      #generated-meme {
        position: relative;
        width: 100%;
        max-width: 600px; /* Allow slightly larger display */
        margin: 20px auto; /* Center the final meme */
        border: 1px solid #ccc;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
     }
     #generated-meme img {
        display: block;
        max-width: 100%;
        height: auto;
     }
      #generated-meme .top-text, #generated-meme .bottom-text {
         position: absolute;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        text-align: center;
        font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
        font-size: 2.2rem; /* Final text size */
        color: white;
        -webkit-text-stroke: 1px black;
        text-stroke: 1px black;
        text-transform: uppercase;
        word-wrap: break-word;
     }
      #generated-meme .top-text {
        top: 15px;
     }
      #generated-meme .bottom-text {
        bottom: 15px;
     }
     .share-buttons button { margin: 0 5px; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">MemeGen</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Create</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container mt-4 text-center">
        <h1 class="mb-3">Your Meme is Ready!</h1>
        <p class="lead">Download your creation or share it with the world.</p>

        <!-- Final Meme Display -->
        <div id="generated-meme">
            <img src="https://via.placeholder.com/600x420/adb5bd/495057.png?text=Final+Meme+Image" alt="Generated Meme">
             <!-- Static example text overlay -->
            <div class="top-text">THE FINAL TOP TEXT</div>
            <div class="bottom-text">YOUR AWESOME BOTTOM TEXT</div>
        </div>

        <!-- Action Buttons -->
        <div class="mt-4">
            <button class="btn btn-success btn-lg me-2"><i class="bi bi-download"></i> Download PNG</button>
            <button class="btn btn-info btn-lg"><i class="bi bi-download"></i> Download JPG</button>
        </div>

        <!-- Share Section -->
        <div class="mt-4 share-buttons">
            <h5>Share:</h5>
            <button class="btn btn-primary"><i class="bi bi-facebook"></i> Facebook</button>
            <button class="btn btn-info text-white"><i class="bi bi-twitter-x"></i> Twitter/X</button>
            <button class="btn btn-danger"><i class="bi bi-pinterest"></i> Pinterest</button>
             <button class="btn btn-warning"><i class="bi bi-reddit"></i> Reddit</button>
            <button class="btn btn-secondary"><i class="bi bi-link-45deg"></i> Copy Link</button>
        </div>

         <div class="mt-5">
             <button class="btn btn-outline-primary"> <i class="bi bi-arrow-repeat"></i> Create Another Meme</button>
        </div>

    </main>

    <footer class="bg-dark text-white text-center p-3 mt-5">
        <p>&copy; 2023 MemeGen. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
        '></iframe>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>