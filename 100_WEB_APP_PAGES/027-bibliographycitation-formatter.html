<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bibliography/Citation Formatter - UI Flow</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body { padding: 20px; background-color: #f0f0f0; }
        iframe {
            width: 100%;
            height: 700px; /* Increased height for better viewing */
            border: 1px solid #ccc;
            margin-bottom: 30px;
            background-color: #fff; /* Ensure iframe background is white */
        }
        h1 { text-align: center; margin-bottom: 30px; color: #333; }
        h2 {
            margin-top: 40px;
            margin-bottom: 15px;
            border-bottom: 2px solid #0d6efd; /* Bootstrap primary color */
            padding-bottom: 10px;
            color: #0d6efd;
            font-weight: bold;
        }
        h2:first-of-type { margin-top: 0; }
    </style>
</head>
<body>
    <h1>Bibliography/Citation Formatter - UI Flow</h1>

    <!-- State 1: Home Page -->
    <h2>State 1: Home Page</h2>
    <iframe title="State 1: Home Page" srcdoc='
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Home</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>body { padding-top: 56px; /* Adjust for fixed navbar */ }</style>
    </head>
    <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#">CiteFormat</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#">About</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Format Citation</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Style Guide</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <div class="container mt-5">
        <div class="p-5 mb-4 bg-light rounded-3 shadow-sm">
          <div class="container-fluid py-5">
            <h1 class="display-5 fw-bold">Bibliography/Citation Formatter</h1>
            <p class="col-md-8 fs-4">Easily format your references in APA, MLA, Chicago, and other styles. Simplify your academic writing process.</p>
            <a href="#" class="btn btn-primary btn-lg" role="button">Format a Citation Now</a>
          </div>
        </div>

        <div class="row align-items-md-stretch">
          <div class="col-md-6 mb-4">
            <div class="h-100 p-5 text-white bg-secondary rounded-3 shadow">
              <h2>Quick Start</h2>
              <p>Select your source type and citation style to begin formatting immediately.</p>
              <div class="mb-3">
                <label for="quickSourceType" class="form-label">Source Type:</label>
                <select class="form-select" id="quickSourceType">
                  <option selected>Choose...</option>
                  <option value="book">Book</option>
                  <option value="journal">Journal Article</option>
                  <option value="website">Website</option>
                </select>
              </div>
              <div class="mb-3">
                <label for="quickStyle" class="form-label">Citation Style:</label>
                <select class="form-select" id="quickStyle">
                  <option selected>Choose...</option>
                  <option value="apa">APA 7th</option>
                  <option value="mla">MLA 9th</option>
                  <option value="chicago-nb">Chicago NB 17th</option>
                  <option value="chicago-ad">Chicago AD 17th</option>
                </select>
              </div>
              <button class="btn btn-outline-light" type="button">Go</button>
            </div>
          </div>
          <div class="col-md-6 mb-4">
            <div class="h-100 p-5 bg-light border rounded-3 shadow-sm">
              <h2>Supported Styles</h2>
              <p>We currently support the latest versions of major academic citation styles:</p>
              <ul>
                <li>APA (American Psychological Association) 7th Edition</li>
                <li>MLA (Modern Language Association) 9th Edition</li>
                <li>Chicago Manual of Style (Notes-Bibliography) 17th Edition</li>
                <li>Chicago Manual of Style (Author-Date) 17th Edition</li>
              </ul>
              <a href="#" class="btn btn-outline-secondary" role="button">Learn More About Styles</a>
            </div>
          </div>
        </div>

      </div><!-- /.container -->

      <footer class="py-4 bg-light mt-auto">
        <div class="container px-5"><p class="m-0 text-center text-muted">Copyright &copy; CiteFormat 2023</p></div>
      </footer>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
    </html>
    '></iframe>

    <!-- State 2: About Page -->
    <h2>State 2: About Page</h2>
    <iframe title="State 2: About Page" srcdoc='
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>About</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>body { padding-top: 56px; /* Adjust for fixed navbar */ display: flex; flex-direction: column; min-height: 100vh; }</style>
    </head>
    <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#">CiteFormat</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">About</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Format Citation</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Style Guide</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <main class="flex-shrink-0">
        <div class="container mt-5">
          <h1 class="mb-4">About Bibliography/Citation Formatter</h1>
          <hr>
          <p class="lead">CiteFormat is a simple tool designed to help students, researchers, and writers format their bibliographies and citations accurately according to major academic style guides.</p>
          <p>Our goal is to streamline the often tedious process of citation management, allowing you to focus more on your writing. We strive for accuracy based on the latest editions of the style guides.</p>

          <h2 class="mt-5">Supported Styles</h2>
          <p>Currently, we support:</p>
          <ul class="list-group mb-4 shadow-sm">
            <li class="list-group-item"><strong>APA:</strong> Based on the Publication Manual of the American Psychological Association, 7th Edition.</li>
            <li class="list-group-item"><strong>MLA:</strong> Based on the MLA Handbook, 9th Edition.</li>
            <li class="list-group-item"><strong>Chicago:</strong> Supporting both the Notes and Bibliography system and the Author-Date system, based on The Chicago Manual of Style, 17th Edition.</li>
          </ul>

          <h2 class="mt-5">Features</h2>
          <ul class="list-unstyled">
            <li class="mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill text-success me-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>Intuitive interface for entering source details.</li>
            <li class="mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill text-success me-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>Support for various source types (Books, Articles, Websites, etc.).</li>
            <li class="mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill text-success me-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>Instant generation of formatted citations.</li>
            <li class="mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill text-success me-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/></svg>Easy copying of citations for use in your documents.</li>
          </ul>

          <h2 class="mt-5">Disclaimer</h2>
          <div class="alert alert-warning" role="alert">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:">
              <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
             While we aim for accuracy, always double-check the generated citations against the official style guides or your institution\'s requirements. This tool is intended as an aid, not a substitute for understanding citation principles.
          </div>
        </div><!-- /.container -->
      </main>

      <footer class="py-4 bg-light mt-auto">
        <div class="container px-5"><p class="m-0 text-center text-muted">Copyright &copy; CiteFormat 2023</p></div>
      </footer>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
    </html>
    '></iframe>

    <!-- State 3: Input Form (Book Example) -->
    <h2>State 3: Input Form (Book Example)</h2>
    <iframe title="State 3: Input Form (Book Example)" srcdoc='
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Input Form</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>body { padding-top: 56px; /* Adjust for fixed navbar */ display: flex; flex-direction: column; min-height: 100vh; }</style>
    </head>
    <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#">CiteFormat</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#">About</a></li>
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Format Citation</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Style Guide</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <main class="flex-shrink-0">
        <div class="container mt-5">
          <h1>Enter Reference Details</h1>
          <hr>

          <form class="needs-validation" novalidate>
            <div class="p-4 mb-4 border rounded shadow-sm bg-light">
              <h2 class="h5 mb-3">Step 1: Select Source Type and Style</h2>
              <div class="row g-3">
                <div class="col-md-6">
                    <label for="sourceType" class="form-label">Source Type:</label>
                    <select class="form-select" id="sourceType" required>
                      <option value="book" selected>Book</option>
                      <option value="journal">Journal Article</option>
                      <option value="website">Website</option>
                      <option value="report">Report</option>
                      </select>
                      <div class="invalid-feedback">Please select a source type.</div>
                </div>
                <div class="col-md-6">
                    <label for="citationStyle" class="form-label">Citation Style:</label>
                    <select class="form-select" id="citationStyle" required>
                      <option value="apa" selected>APA 7th Edition</option>
                      <option value="mla">MLA 9th Edition</option>
                      <option value="chicago-nb">Chicago Notes-Bibliography 17th</option>
                      <option value="chicago-ad">Chicago Author-Date 17th</option>
                    </select>
                    <div class="invalid-feedback">Please select a citation style.</div>
                </div>
              </div>
            </div>

            <div class="p-4 border rounded shadow-sm">
              <h2 class="h5 mb-3">Step 2: Enter Book Details</h2>
              <div class="mb-3">
                <label for="authors" class="form-label">Author(s): <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="authors" placeholder="e.g., Smith, J. K. or Smith, John K." required>
                <div class="form-text">Enter authors separated by semicolons if multiple. Format depends on style (e.g., Last, F. M.; Last, F. M.).</div>
                 <div class="invalid-feedback">Author field cannot be empty.</div>
              </div>

              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="year" class="form-label">Publication Year: <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="year" placeholder="e.g., 2023" required pattern="\d{4}">
                  <div class="invalid-feedback">Please enter a valid 4-digit year.</div>
                </div>
                 <div class="col-md-6">
                  <label for="edition" class="form-label">Edition (if not first):</label>
                  <input type="text" class="form-control" id="edition" placeholder="e.g., 2nd, Rev. ed.">
                </div>
              </div>


              <div class="mb-3">
                <label for="title" class="form-label">Book Title: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="title" placeholder="e.g., The Principles of Citation" required>
                <div class="form-text">Enter the full title. Pay attention to capitalization rules for the selected style.</div>
                 <div class="invalid-feedback">Book title is required.</div>
              </div>


              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="publisher" class="form-label">Publisher: <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="publisher" placeholder="e.g., Academic Press" required>
                  <div class="invalid-feedback">Publisher is required for most styles.</div>
                </div>
                <div class="col-md-6">
                  <label for="location" class="form-label">Publication Location:</label>
                  <input type="text" class="form-control" id="location" placeholder="e.g., New York, NY">
                  <div class="form-text">Optional, style dependent (often omitted in APA 7th/MLA 9th).</div>
                </div>
              </div>

               <div class="mb-3">
                <label for="doi" class="form-label">DOI:</label>
                <input type="text" class="form-control" id="doi" placeholder="e.g., 10.1000/xyz123">
                 <div class="form-text">Digital Object Identifier, if available.</div>
              </div>

              <hr class="my-4">
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="reset" class="btn btn-secondary btn-lg">Clear Form</button>
                <button type="submit" class="btn btn-primary btn-lg">Generate Citation</button>
              </div>
            </div>
          </form>

        </div><!-- /.container -->
      </main>

      <footer class="py-4 bg-light mt-auto">
        <div class="container px-5"><p class="m-0 text-center text-muted">Copyright &copy; CiteFormat 2023</p></div>
      </footer>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
        (() => {
          "use strict";
          const forms = document.querySelectorAll(".needs-validation");
          Array.from(forms).forEach(form => {
            form.addEventListener("submit", event => {
              if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
              }
              form.classList.add("was-validated");
            }, false);
          });
        })();
      </script>
    </body>
    </html>
    '></iframe>

    <!-- State 4: Input Form - Validation Error -->
    <h2>State 4: Input Form - Validation Error</h2>
    <iframe title="State 4: Input Form - Validation Error" srcdoc='
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Input Form - Error</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>body { padding-top: 56px; /* Adjust for fixed navbar */ display: flex; flex-direction: column; min-height: 100vh; }</style>
    </head>
    <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#">CiteFormat</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#">About</a></li>
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Format Citation</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Style Guide</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <main class="flex-shrink-0">
        <div class="container mt-5">
          <h1>Enter Reference Details</h1>
          <hr>

          <div class="alert alert-danger d-flex align-items-center" role="alert">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-exclamation-triangle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Warning:">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </svg>
            <div>
              Please fix the errors below and try again.
            </div>
          </div>

          <form class="was-validated" novalidate> <!-- Apply was-validated class to show errors -->
            <div class="p-4 mb-4 border rounded shadow-sm bg-light">
              <h2 class="h5 mb-3">Step 1: Select Source Type and Style</h2>
              <div class="row g-3">
                <div class="col-md-6">
                    <label for="sourceType" class="form-label">Source Type:</label>
                    <select class="form-select" id="sourceType" required>
                      <option value="book" selected>Book</option>
                      <option value="journal">Journal Article</option>
                      <option value="website">Website</option>
                      <option value="report">Report</option>
                      </select>
                      <div class="invalid-feedback">Please select a source type.</div>
                </div>
                <div class="col-md-6">
                    <label for="citationStyle" class="form-label">Citation Style:</label>
                    <select class="form-select" id="citationStyle" required>
                      <option value="apa" selected>APA 7th Edition</option>
                      <option value="mla">MLA 9th Edition</option>
                      <option value="chicago-nb">Chicago Notes-Bibliography 17th</option>
                      <option value="chicago-ad">Chicago Author-Date 17th</option>
                    </select>
                    <div class="invalid-feedback">Please select a citation style.</div>
                </div>
              </div>
            </div>

            <div class="p-4 border rounded shadow-sm">
              <h2 class="h5 mb-3">Step 2: Enter Book Details</h2>
              <div class="mb-3">
                <label for="authors" class="form-label">Author(s): <span class="text-danger">*</span></label>
                <input type="text" class="form-control is-invalid" id="authors" placeholder="e.g., Smith, J. K. or Smith, John K." required value=""> <!-- Empty value to trigger error -->
                <div class="form-text">Enter authors separated by semicolons if multiple. Format depends on style (e.g., Last, F. M.; Last, F. M.).</div>
                 <div class="invalid-feedback">Author field cannot be empty.</div>
              </div>

              <div class="row g-3 mb-3">
                <div class="col-md-6">
                  <label for="year" class="form-label">Publication Year: <span class="text-danger">*</span></label>
                  <input type="text" class="form-control is-invalid" id="year" placeholder="e.g., 2023" required pattern="\d{4}" value="InvalidYear"> <!-- Invalid value -->
                  <div class="invalid-feedback">Please enter a valid 4-digit year.</div>
                </div>
                 <div class="col-md-6">
                  <label for="edition" class="form-label">Edition (if not first):</label>
                  <input type="text" class="form-control" id="edition" placeholder="e.g., 2nd, Rev. ed.">
                </div>
              </div>

              <div class="mb-3">
                <label for="title" class="form-label">Book Title: <span class="text-danger">*</span></label>
                <input type="text" class="form-control is-invalid" id="title" placeholder="e.g., The Principles of Citation" required value=""> <!-- Empty value -->
                <div class="form-text">Enter the full title. Pay attention to capitalization rules for the selected style.</div>
                 <div class="invalid-feedback">Book title is required.</div>
              </div>

              <div class="row g-3 mb-3">
                 <div class="col-md-6">
                  <label for="publisher" class="form-label">Publisher: <span class="text-danger">*</span></label>
                  <input type="text" class="form-control" id="publisher" placeholder="e.g., Academic Press" required value="Some Publisher Inc."> <!-- Valid example -->
                  <div class="invalid-feedback">Publisher is required for most styles.</div>
                </div>
                <div class="col-md-6">
                  <label for="location" class="form-label">Publication Location:</label>
                  <input type="text" class="form-control" id="location" placeholder="e.g., New York, NY">
                  <div class="form-text">Optional, style dependent (often omitted in APA 7th/MLA 9th).</div>
                </div>
              </div>

              <div class="mb-3">
                <label for="doi" class="form-label">DOI:</label>
                <input type="text" class="form-control" id="doi" placeholder="e.g., 10.1000/xyz123">
                 <div class="form-text">Digital Object Identifier, if available.</div>
              </div>

              <hr class="my-4">
              <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <button type="reset" class="btn btn-secondary btn-lg">Clear Form</button>
                <button type="submit" class="btn btn-primary btn-lg">Generate Citation</button>
              </div>
            </div>
          </form>

        </div><!-- /.container -->
      </main>

      <footer class="py-4 bg-light mt-auto">
        <div class="container px-5"><p class="m-0 text-center text-muted">Copyright &copy; CiteFormat 2023</p></div>
      </footer>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    </body>
    </html>
    '></iframe>


    <!-- State 5: Citation Result Page -->
    <h2>State 5: Citation Result Page</h2>
    <iframe title="State 5: Citation Result Page" srcdoc='
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Citation Result</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>
        body { padding-top: 56px; /* Adjust for fixed navbar */ display: flex; flex-direction: column; min-height: 100vh; }
        #citationOutput {
          font-family: "Courier New", Courier, monospace;
          background-color: #e9ecef; /* Lighter gray */
          border: 1px solid #ced4da;
          padding: 1rem;
          white-space: pre-wrap; /* Allows wrapping */
          word-wrap: break-word; /* Breaks long words */
          min-height: 120px; /* Minimum height */
          font-size: 0.95rem;
          line-height: 1.6;
          border-radius: .25rem;
        }
        .copy-tooltip + .tooltip > .tooltip-inner { background-color: #198754; } /* Green tooltip */
      </style>
    </head>
    <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#">CiteFormat</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#">About</a></li>
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Format Citation</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Style Guide</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <main class="flex-shrink-0">
        <div class="container mt-5">
          <h1>Generated Citation</h1>
          <hr>

          <div class="alert alert-success d-flex align-items-center" role="alert">
             <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-check-circle-fill flex-shrink-0 me-2" viewBox="0 0 16 16" role="img" aria-label="Success:">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
              </svg>
            <div>
              Citation generated successfully! Remember to double-check for accuracy against official style guides.
            </div>
          </div>

          <div class="card shadow-sm mb-4">
            <div class="card-header">
              <h5 class="mb-0">Citation Details</h5>
            </div>
            <div class="card-body">
              <div class="mb-3 row">
                  <strong class="col-sm-3 col-form-label">Style:</strong>
                  <div class="col-sm-9"><span class="badge bg-primary fs-6">APA 7th Edition</span></div>
              </div>
              <div class="mb-0">
                <label for="citationOutput" class="form-label"><strong>Formatted Citation:</strong></label>
                <div id="citationOutput">Author, A. A. (Year). <i >Title of work: Capital letter also for subtitle</i>. Publisher Name.

<!-- Placeholder Example -->
Smith, J. K. (2023). <i >The principles of citation</i> (2nd ed.). Academic Press. https://doi.org/10.1000/xyz123</div>
              </div>
            </div>
            <div class="card-footer bg-light">
               <div class="d-grid gap-2 d-md-flex justify-content-md-start">
                <button type="button" class="btn btn-success btn-lg copy-tooltip" data-bs-toggle="tooltip" data-bs-placement="top" title="Copied!">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill me-2" viewBox="0 0 16 16">
                      <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>
                      <path d="M4.085 1H3.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1h-.585c.055.156.085.325.085.5V2a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 2v-.5c0-.175.03-.344.085-.5Zm6.769 6.854-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
                    </svg>Copy to Clipboard
                </button>
                <a href="#" class="btn btn-primary btn-lg" role="button">
                   <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle-fill me-2" viewBox="0 0 16 16">
                      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"/>
                    </svg>Format Another
                </a>
                <a href="#" class="btn btn-outline-secondary btn-lg" role="button">
                   <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-fill me-2" viewBox="0 0 16 16">
                      <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.179z"/>
                    </svg>Edit Input
                </a>
              </div>
            </div>
          </div>

          <div class="mt-4 p-4 border rounded bg-light shadow-sm">
              <h5 class="mb-3">Style-Specific Notes (APA 7th Example)</h5>
              <ul class="list-group list-group-flush">
                  <li class="list-group-item bg-light ps-0">Ensure book titles are in sentence case and italicized.</li>
                  <li class="list-group-item bg-light ps-0">Publisher location is generally no longer required.</li>
                  <li class="list-group-item bg-light ps-0">Include DOI if available and format as a full URL (e.g., <code>https://doi.org/xxxxx</code>).</li>
                  <li class="list-group-item bg-light ps-0">Include edition information in parentheses after the title if it is not the first edition (e.g., <code>(2nd ed.)</code>).</li>
              </ul>
          </div>

        </div><!-- /.container -->
      </main>

      <footer class="py-4 bg-light mt-auto">
        <div class="container px-5"><p class="m-0 text-center text-muted">Copyright &copy; CiteFormat 2023</p></div>
      </footer>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
      <script>
          // Initialize tooltips
          var tooltipTriggerList = [].slice.call(document.querySelectorAll(&#039;[data-bs-toggle="tooltip"]&#039;))
          var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
          })
          // Optional: Add copy functionality simulation
          const copyBtn = document.querySelector(&#039;.copy-tooltip&#039;);
          if(copyBtn) {
              copyBtn.addEventListener(&#039;click&#039;, () => {
                  // In a real app, you&#039;d copy text here.
                  // We just show the tooltip briefly.
                  const tooltip = bootstrap.Tooltip.getInstance(copyBtn);
                  setTimeout(() => { tooltip.hide(); }, 1500); // Hide after 1.5 seconds
              });
          }
      </script>
    </body>
    </html>
    '></iframe>

    <!-- State 6: Style Guide Page -->
    <h2>State 6: Style Guide Page</h2>
    <iframe title="State 6: Style Guide Page" srcdoc='
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Style Guide</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <style>body { padding-top: 56px; /* Adjust for fixed navbar */ display: flex; flex-direction: column; min-height: 100vh; }</style>
    </head>
    <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="#">CiteFormat</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
              <li class="nav-item"><a class="nav-link" href="#">About</a></li>
              <li class="nav-item"><a class="nav-link" href="#">Format Citation</a></li>
              <li class="nav-item"><a class="nav-link active" aria-current="page" href="#">Style Guide</a></li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Page Content -->
      <main class="flex-shrink-0">
        <div class="container mt-5">
          <h1>Citation Style Guides</h1>
          <p class="lead">Quick references and links to official resources for the citation styles supported by CiteFormat.</p>
          <hr>

          <div class="accordion shadow-sm" id="styleGuideAccordion">
            <!-- APA Section -->
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingApa">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseApa" aria-expanded="true" aria-controls="collapseApa">
                  <strong class="me-2">APA</strong> (American Psychological Association) 7th Edition
                </button>
              </h2>
              <div id="collapseApa" class="accordion-collapse collapse show" aria-labelledby="headingApa" data-bs-parent="#styleGuideAccordion">
                <div class="accordion-body">
                  <p>Commonly used in social sciences, education, nursing, and psychology.</p>
                  <strong>Key Features (7th Ed.):</strong>
                  <ul>
                    <li>In-text citations: <code>(Author, Year)</code></li>
                    <li>Reference list entries are alphabetized by author&#039;s last name.</li>
                    <li>Book/Journal titles: Sentence case capitalization (<i>Book Title</i>, Journal Title).</li>
                    <li>Journal/Volume numbers: Italicized (<i>Journal Title, Volume</i>(issue)).</li>
                    <li>Publisher location generally omitted for books.</li>
                    <li>DOIs formatted as URLs: <code>https://doi.org/xxxxx</code></li>
                  </ul>
                  <strong>Official Resources:</strong>
                  <ul>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">APA Style Website (Placeholder)</a></li>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Purdue OWL: APA Guide (Placeholder)</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- MLA Section -->
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingMla">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMla" aria-expanded="false" aria-controls="collapseMla">
                 <strong class="me-2">MLA</strong> (Modern Language Association) 9th Edition
                </button>
              </h2>
              <div id="collapseMla" class="accordion-collapse collapse" aria-labelledby="headingMla" data-bs-parent="#styleGuideAccordion">
                <div class="accordion-body">
                  <p>Commonly used in the humanities, literature, languages, and arts.</p>
                  <strong>Key Features (9th Ed.):</strong>
                   <ul>
                    <li>In-text citations: <code>(Author PageNumber)</code></li>
                    <li>Works Cited list entries are alphabetized by author&#039;s last name.</li>
                    <li>Core Elements concept: Author. "Title of Source." <i>Title of Container</i>, Other contributors, Version, Number, Publisher, Publication date, Location.</li>
                    <li>Titles of major works (books, journals): Italicized, Title Case capitalization (<i>Book Title</i>, <i>Journal Title</i>).</li>
                    <li>Titles of shorter works (articles, chapters): In quotation marks, Title Case capitalization ("Article Title").</li>
                    <li>URLs generally included (without http:// or https:// unless needed for clarity), DOIs preferred (formatted as <code>doi:xxxxx</code> or URL).</li>
                  </ul>
                   <strong>Official Resources:</strong>
                  <ul>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">MLA Style Center (Placeholder)</a></li>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Purdue OWL: MLA Guide (Placeholder)</a></li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Chicago Section -->
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingChicago">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseChicago" aria-expanded="false" aria-controls="collapseChicago">
                  <strong class="me-2">Chicago</strong> Manual of Style (CMOS) 17th Edition
                </button>
              </h2>
              <div id="collapseChicago" class="accordion-collapse collapse" aria-labelledby="headingChicago" data-bs-parent="#styleGuideAccordion">
                <div class="accordion-body">
                  <p>Widely used in history, some humanities disciplines, and publishing. Offers two systems:</p>
                  <ol>
                    <li><strong>Notes and Bibliography (NB):</strong> Uses footnotes or endnotes for in-text citation, supplemented by a bibliography. Preferred in humanities (literature, history, arts).</li>
                    <li><strong>Author-Date (AD):</strong> Uses parenthetical in-text citations <code>(Author Year, Page)</code>, similar to APA, with a reference list. Preferred in social sciences and sciences.</li>
                  </ol>
                   <strong>Key Features (General):</strong>
                   <ul>
                      <li>Emphasis on flexibility based on source type and context.</li>
                      <li>Titles: Generally Title Case capitalization. Book/Journal titles italicized (<i>Book Title</i>, <i>Journal Title</i>). Article/chapter titles typically in quotes (NB) or regular font (AD reference list).</li>
                      <li>NB: Footnotes include full details first time, shortened later. Bibliography entries differ slightly from notes (e.g., punctuation, author format).</li>
                      <li>AD: Reference list format differs from NB bibliography.</li>
                   </ul>
                   <strong>Official Resources:</strong>
                  <ul>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Chicago Manual of Style Online (Subscription) (Placeholder)</a></li>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Purdue OWL: Chicago Guide (Placeholder)</a></li>
                    <li><a href="#" target="_blank" rel="noopener noreferrer">Chicago Style Q&A (Placeholder)</a></li>
                  </ul>
                </div>
              </div>
            </div>
          </div> <!-- /accordion -->

        </div><!-- /.container -->
      </main>

      <footer class="py-4 bg-light mt-auto">
        <div class="container px-5"><p class="m-0 text-center text-muted">Copyright &copy; CiteFormat 2023</p></div>
      </footer>

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
    </html>
    '></iframe>

</body>
</html>